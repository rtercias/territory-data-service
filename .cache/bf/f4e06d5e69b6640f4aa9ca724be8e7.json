{"id":"Jl67","dependencies":[{"name":"/Users/ryan.tercias/MyApps/territory-data-service/package.json","includedInParent":true,"mtime":1592367476738},{"name":"./../async/addresses","loc":{"line":1,"column":25},"parent":"/Users/ryan.tercias/MyApps/territory-data-service/src/utils/Notes.js","resolved":"/Users/ryan.tercias/MyApps/territory-data-service/src/async/addresses.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Notes=void 0;var e=t(require(\"./../async/addresses\"));function t(e){return e&&e.__esModule?e:{default:e}}const r={async add(t,r,s){const{notes:o}=s||await e.default.getAddress(t,\"*\"),n=String(o||\"\").split(\",\"),i=n.find(e=>String(e).toLowerCase()===String(r).toLowerCase());return i||(n.push(r),n.join(\",\"))},async remove(t,r,s){const{notes:o}=s||await e.default.getAddress(t,\"*\");return String(o||\"\").split(\",\").filter(e=>String(e).toLowerCase().trim()!==String(r).toLowerCase().trim()).join(\",\")}};exports.Notes=r;"},"sourceMaps":{"js":{"mappings":[{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":0}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":13}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":20}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":35}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":43}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":56}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":57}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":64}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":68}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":76}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":87}},{"source":"utils/Notes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":89}},{"source":"utils/Notes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":93}},{"source":"utils/Notes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"utils/Notes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"utils/Notes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":130}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":139}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":141}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":144}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":151}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":154}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":156}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":167}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":169}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":170}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":178}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":181}},{"source":"utils/Notes.js","name":"Notes","original":{"line":3,"column":13},"generated":{"line":1,"column":187}},{"source":"utils/Notes.js","original":{"line":3,"column":21},"generated":{"line":1,"column":189}},{"source":"utils/Notes.js","name":"add","original":{"line":4,"column":8},"generated":{"line":1,"column":190}},{"source":"utils/Notes.js","name":"addressId","original":{"line":4,"column":12},"generated":{"line":1,"column":200}},{"source":"utils/Notes.js","name":"note","original":{"line":4,"column":23},"generated":{"line":1,"column":202}},{"source":"utils/Notes.js","name":"address","original":{"line":4,"column":29},"generated":{"line":1,"column":204}},{"source":"utils/Notes.js","original":{"line":5,"column":10},"generated":{"line":1,"column":207}},{"source":"utils/Notes.js","original":{"line":5,"column":10},"generated":{"line":1,"column":213}},{"source":"utils/Notes.js","name":"notes","original":{"line":5,"column":12},"generated":{"line":1,"column":219}},{"source":"utils/Notes.js","name":"address","original":{"line":5,"column":22},"generated":{"line":1,"column":222}},{"source":"utils/Notes.js","name":"addressAsync","original":{"line":5,"column":39},"generated":{"line":1,"column":231}},{"source":"utils/Notes.js","name":"getAddress","original":{"line":5,"column":52},"generated":{"line":1,"column":233}},{"source":"utils/Notes.js","name":"getAddress","original":{"line":5,"column":52},"generated":{"line":1,"column":241}},{"source":"utils/Notes.js","name":"addressId","original":{"line":5,"column":63},"generated":{"line":1,"column":252}},{"source":"utils/Notes.js","original":{"line":5,"column":74},"generated":{"line":1,"column":254}},{"source":"utils/Notes.js","name":"notesArray","original":{"line":6,"column":10},"generated":{"line":1,"column":259}},{"source":"utils/Notes.js","name":"String","original":{"line":6,"column":23},"generated":{"line":1,"column":261}},{"source":"utils/Notes.js","name":"notes","original":{"line":6,"column":30},"generated":{"line":1,"column":268}},{"source":"utils/Notes.js","original":{"line":6,"column":39},"generated":{"line":1,"column":271}},{"source":"utils/Notes.js","name":"split","original":{"line":6,"column":43},"generated":{"line":1,"column":275}},{"source":"utils/Notes.js","original":{"line":6,"column":49},"generated":{"line":1,"column":281}},{"source":"utils/Notes.js","name":"existingNote","original":{"line":7,"column":10},"generated":{"line":1,"column":286}},{"source":"utils/Notes.js","name":"notesArray","original":{"line":7,"column":25},"generated":{"line":1,"column":288}},{"source":"utils/Notes.js","name":"find","original":{"line":7,"column":36},"generated":{"line":1,"column":290}},{"source":"utils/Notes.js","name":"n","original":{"line":7,"column":41},"generated":{"line":1,"column":295}},{"source":"utils/Notes.js","name":"String","original":{"line":7,"column":46},"generated":{"line":1,"column":298}},{"source":"utils/Notes.js","name":"n","original":{"line":7,"column":53},"generated":{"line":1,"column":305}},{"source":"utils/Notes.js","name":"toLowerCase","original":{"line":7,"column":56},"generated":{"line":1,"column":308}},{"source":"utils/Notes.js","name":"String","original":{"line":7,"column":74},"generated":{"line":1,"column":324}},{"source":"utils/Notes.js","name":"note","original":{"line":7,"column":81},"generated":{"line":1,"column":331}},{"source":"utils/Notes.js","name":"toLowerCase","original":{"line":7,"column":87},"generated":{"line":1,"column":334}},{"source":"utils/Notes.js","name":"existingNote","original":{"line":9,"column":8},"generated":{"line":1,"column":349}},{"source":"utils/Notes.js","name":"existingNote","original":{"line":9,"column":8},"generated":{"line":1,"column":356}},{"source":"utils/Notes.js","name":"notesArray","original":{"line":11,"column":4},"generated":{"line":1,"column":360}},{"source":"utils/Notes.js","name":"push","original":{"line":11,"column":15},"generated":{"line":1,"column":362}},{"source":"utils/Notes.js","name":"note","original":{"line":11,"column":20},"generated":{"line":1,"column":367}},{"source":"utils/Notes.js","name":"notesArray","original":{"line":12,"column":11},"generated":{"line":1,"column":370}},{"source":"utils/Notes.js","name":"join","original":{"line":12,"column":22},"generated":{"line":1,"column":372}},{"source":"utils/Notes.js","original":{"line":12,"column":27},"generated":{"line":1,"column":377}},{"source":"utils/Notes.js","name":"remove","original":{"line":14,"column":8},"generated":{"line":1,"column":384}},{"source":"utils/Notes.js","name":"addressId","original":{"line":14,"column":15},"generated":{"line":1,"column":397}},{"source":"utils/Notes.js","name":"note","original":{"line":14,"column":26},"generated":{"line":1,"column":399}},{"source":"utils/Notes.js","name":"address","original":{"line":14,"column":32},"generated":{"line":1,"column":401}},{"source":"utils/Notes.js","original":{"line":15,"column":10},"generated":{"line":1,"column":404}},{"source":"utils/Notes.js","original":{"line":15,"column":10},"generated":{"line":1,"column":410}},{"source":"utils/Notes.js","name":"notes","original":{"line":15,"column":12},"generated":{"line":1,"column":416}},{"source":"utils/Notes.js","name":"address","original":{"line":15,"column":22},"generated":{"line":1,"column":419}},{"source":"utils/Notes.js","name":"addressAsync","original":{"line":15,"column":39},"generated":{"line":1,"column":428}},{"source":"utils/Notes.js","name":"getAddress","original":{"line":15,"column":52},"generated":{"line":1,"column":430}},{"source":"utils/Notes.js","name":"getAddress","original":{"line":15,"column":52},"generated":{"line":1,"column":438}},{"source":"utils/Notes.js","name":"addressId","original":{"line":15,"column":63},"generated":{"line":1,"column":449}},{"source":"utils/Notes.js","original":{"line":15,"column":74},"generated":{"line":1,"column":451}},{"source":"utils/Notes.js","name":"filteredNotes","original":{"line":18,"column":11},"generated":{"line":1,"column":456}},{"source":"utils/Notes.js","name":"String","original":{"line":16,"column":23},"generated":{"line":1,"column":463}},{"source":"utils/Notes.js","name":"notes","original":{"line":16,"column":30},"generated":{"line":1,"column":470}},{"source":"utils/Notes.js","original":{"line":16,"column":39},"generated":{"line":1,"column":473}},{"source":"utils/Notes.js","name":"split","original":{"line":16,"column":43},"generated":{"line":1,"column":477}},{"source":"utils/Notes.js","original":{"line":16,"column":49},"generated":{"line":1,"column":483}},{"source":"utils/Notes.js","name":"filter","original":{"line":17,"column":37},"generated":{"line":1,"column":488}},{"source":"utils/Notes.js","name":"n","original":{"line":17,"column":44},"generated":{"line":1,"column":495}},{"source":"utils/Notes.js","name":"String","original":{"line":17,"column":49},"generated":{"line":1,"column":498}},{"source":"utils/Notes.js","name":"n","original":{"line":17,"column":56},"generated":{"line":1,"column":505}},{"source":"utils/Notes.js","name":"toLowerCase","original":{"line":17,"column":59},"generated":{"line":1,"column":508}},{"source":"utils/Notes.js","name":"trim","original":{"line":17,"column":73},"generated":{"line":1,"column":522}},{"source":"utils/Notes.js","name":"String","original":{"line":17,"column":84},"generated":{"line":1,"column":531}},{"source":"utils/Notes.js","name":"note","original":{"line":17,"column":91},"generated":{"line":1,"column":538}},{"source":"utils/Notes.js","name":"toLowerCase","original":{"line":17,"column":97},"generated":{"line":1,"column":541}},{"source":"utils/Notes.js","name":"trim","original":{"line":17,"column":111},"generated":{"line":1,"column":555}},{"source":"utils/Notes.js","name":"join","original":{"line":18,"column":25},"generated":{"line":1,"column":563}},{"source":"utils/Notes.js","original":{"line":18,"column":30},"generated":{"line":1,"column":568}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":575}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":583}},{"source":"utils/Notes.js","original":{"line":3,"column":7},"generated":{"line":1,"column":589}}],"sources":{"utils/Notes.js":"import addressAsync from './../async/addresses';\n\nexport const Notes = {\n  async add(addressId, note, address) {\n    const { notes } = address || await addressAsync.getAddress(addressId, '*');\n    const notesArray = String(notes || '').split(',');\n    const existingNote = notesArray.find(n => String(n).toLowerCase() === String(note).toLowerCase());\n\n    if (existingNote) return existingNote;\n\n    notesArray.push(note);\n    return notesArray.join(',');\n  },\n  async remove(addressId, note, address) {\n    const { notes } = address || await addressAsync.getAddress(addressId, '*');\n    const notesArray = String(notes || '').split(',');\n    const filteredNotes = notesArray.filter(n => String(n).toLowerCase().trim() !== String(note).toLowerCase().trim());\n    return filteredNotes.join(',');\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"419f5ca487150928bded0ec617b32f7a","cacheData":{"env":{}}}