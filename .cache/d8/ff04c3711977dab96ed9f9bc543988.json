{"id":"kq4H","dependencies":[{"name":"/Users/ryan.tercias/MyApps/territory-data-service/package.json","includedInParent":true,"mtime":1592367476738},{"name":"../server","loc":{"line":1,"column":21},"parent":"/Users/ryan.tercias/MyApps/territory-data-service/src/async/activityLog.js","resolved":"/Users/ryan.tercias/MyApps/territory-data-service/src/server.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"../server\"),t=require(\"lodash\");class n{async create(t){await e.conn.query(`INSERT INTO activitylog (\\n      checkout_id,\\n      address_id,\\n      value,\\n      tz_offset,\\n      timezone,\\n      publisher_id,\\n      notes\\n    ) VALUES (\\n      ${t.checkout_id},\\n      ${t.address_id},\\n      '${t.value}',\\n      ${t.tz_offset},\\n      '${t.timezone}',\\n      ${t.publisher_id},\\n      '${t.notes||\"\"}'\\n    )`)}async read(n,i){let a;return n&&i?a=(0,t.toArray)(await e.conn.query(`SELECT * FROM activitylog WHERE checkout_id=${n} AND address_id=${i}`)):n?a=(0,t.toArray)(await e.conn.query(`SELECT * FROM activitylog WHERE checkout_id=${n}`)):i&&(a=(0,t.toArray)(await e.conn.query(`SELECT * FROM activitylog WHERE address_id=${i}`))),a}async readOne(t){return await e.conn.query(`SELECT * FROM activitylog WHERE id=${t}`)}async update(t){await e.conn.query(`UPDATE activitylog SET\\n      checkout_id = ${t.checkout_id},\\n      address_id = ${t.address_id},\\n      value = '${t.value}',\\n      tz_offset = ${t.tz_offset},\\n      timezone = '${t.timezone}',\\n      publisher_id = ${t.publisher_id},\\n      notes = '${t.notes||\"\"}'\\n    WHERE id=${t.id}`)}async delete(t){await e.conn.query(`DELETE FROM activitylog WHERE id=${t}`)}}var i=new n;exports.default=i;"},"sourceMaps":{"js":{"mappings":[{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":0}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":13}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":20}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":35}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":43}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":56}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":57}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":64}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":68}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":76}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":89}},{"source":"async/activityLog.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"async/activityLog.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"async/activityLog.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"async/activityLog.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"async/activityLog.js","original":{"line":2,"column":0},"generated":{"line":1,"column":118}},{"source":"async/activityLog.js","original":{"line":2,"column":0},"generated":{"line":1,"column":120}},{"source":"async/activityLog.js","original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"async/activityLog.js","original":{"line":4,"column":0},"generated":{"line":1,"column":138}},{"source":"async/activityLog.js","name":"ActivityLogAsync","original":{"line":4,"column":6},"generated":{"line":1,"column":144}},{"source":"async/activityLog.js","name":"create","original":{"line":5,"column":8},"generated":{"line":1,"column":146}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":5,"column":16},"generated":{"line":1,"column":159}},{"source":"async/activityLog.js","name":"conn","original":{"line":6,"column":10},"generated":{"line":1,"column":168}},{"source":"async/activityLog.js","name":"query","original":{"line":6,"column":15},"generated":{"line":1,"column":170}},{"source":"async/activityLog.js","name":"query","original":{"line":6,"column":15},"generated":{"line":1,"column":175}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":15,"column":9},"generated":{"line":1,"column":355}},{"source":"async/activityLog.js","name":"checkout_id","original":{"line":15,"column":21},"generated":{"line":1,"column":357}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":16,"column":9},"generated":{"line":1,"column":380}},{"source":"async/activityLog.js","name":"address_id","original":{"line":16,"column":21},"generated":{"line":1,"column":382}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":17,"column":10},"generated":{"line":1,"column":405}},{"source":"async/activityLog.js","name":"value","original":{"line":17,"column":22},"generated":{"line":1,"column":407}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":18,"column":9},"generated":{"line":1,"column":425}},{"source":"async/activityLog.js","name":"tz_offset","original":{"line":18,"column":21},"generated":{"line":1,"column":427}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":19,"column":10},"generated":{"line":1,"column":449}},{"source":"async/activityLog.js","name":"timezone","original":{"line":19,"column":22},"generated":{"line":1,"column":451}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":20,"column":9},"generated":{"line":1,"column":472}},{"source":"async/activityLog.js","name":"publisher_id","original":{"line":20,"column":21},"generated":{"line":1,"column":474}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":21,"column":10},"generated":{"line":1,"column":499}},{"source":"async/activityLog.js","name":"notes","original":{"line":21,"column":22},"generated":{"line":1,"column":501}},{"source":"async/activityLog.js","original":{"line":21,"column":31},"generated":{"line":1,"column":508}},{"source":"async/activityLog.js","name":"read","original":{"line":25,"column":8},"generated":{"line":1,"column":522}},{"source":"async/activityLog.js","name":"checkout_id","original":{"line":25,"column":14},"generated":{"line":1,"column":533}},{"source":"async/activityLog.js","name":"address_id","original":{"line":25,"column":27},"generated":{"line":1,"column":535}},{"source":"async/activityLog.js","name":"result","original":{"line":26,"column":8},"generated":{"line":1,"column":538}},{"source":"async/activityLog.js","name":"result","original":{"line":26,"column":8},"generated":{"line":1,"column":542}},{"source":"async/activityLog.js","name":"result","original":{"line":34,"column":11},"generated":{"line":1,"column":544}},{"source":"async/activityLog.js","name":"checkout_id","original":{"line":27,"column":8},"generated":{"line":1,"column":551}},{"source":"async/activityLog.js","name":"address_id","original":{"line":27,"column":23},"generated":{"line":1,"column":554}},{"source":"async/activityLog.js","name":"result","original":{"line":28,"column":6},"generated":{"line":1,"column":556}},{"source":"async/activityLog.js","original":{"line":28,"column":15},"generated":{"line":1,"column":559}},{"source":"async/activityLog.js","original":{"line":28,"column":23},"generated":{"line":1,"column":561}},{"source":"async/activityLog.js","original":{"line":28,"column":23},"generated":{"line":1,"column":563}},{"source":"async/activityLog.js","name":"conn","original":{"line":28,"column":29},"generated":{"line":1,"column":578}},{"source":"async/activityLog.js","name":"query","original":{"line":28,"column":34},"generated":{"line":1,"column":580}},{"source":"async/activityLog.js","name":"query","original":{"line":28,"column":34},"generated":{"line":1,"column":585}},{"source":"async/activityLog.js","name":"checkout_id","original":{"line":28,"column":87},"generated":{"line":1,"column":638}},{"source":"async/activityLog.js","name":"address_id","original":{"line":28,"column":117},"generated":{"line":1,"column":658}},{"source":"async/activityLog.js","name":"checkout_id","original":{"line":29,"column":15},"generated":{"line":1,"column":664}},{"source":"async/activityLog.js","name":"result","original":{"line":30,"column":6},"generated":{"line":1,"column":666}},{"source":"async/activityLog.js","original":{"line":30,"column":15},"generated":{"line":1,"column":669}},{"source":"async/activityLog.js","original":{"line":30,"column":23},"generated":{"line":1,"column":671}},{"source":"async/activityLog.js","original":{"line":30,"column":23},"generated":{"line":1,"column":673}},{"source":"async/activityLog.js","name":"conn","original":{"line":30,"column":29},"generated":{"line":1,"column":688}},{"source":"async/activityLog.js","name":"query","original":{"line":30,"column":34},"generated":{"line":1,"column":690}},{"source":"async/activityLog.js","name":"query","original":{"line":30,"column":34},"generated":{"line":1,"column":695}},{"source":"async/activityLog.js","name":"checkout_id","original":{"line":30,"column":87},"generated":{"line":1,"column":748}},{"source":"async/activityLog.js","name":"address_id","original":{"line":31,"column":15},"generated":{"line":1,"column":754}},{"source":"async/activityLog.js","name":"result","original":{"line":32,"column":6},"generated":{"line":1,"column":758}},{"source":"async/activityLog.js","original":{"line":32,"column":15},"generated":{"line":1,"column":761}},{"source":"async/activityLog.js","original":{"line":32,"column":23},"generated":{"line":1,"column":763}},{"source":"async/activityLog.js","original":{"line":32,"column":23},"generated":{"line":1,"column":765}},{"source":"async/activityLog.js","name":"conn","original":{"line":32,"column":29},"generated":{"line":1,"column":780}},{"source":"async/activityLog.js","name":"query","original":{"line":32,"column":34},"generated":{"line":1,"column":782}},{"source":"async/activityLog.js","name":"query","original":{"line":32,"column":34},"generated":{"line":1,"column":787}},{"source":"async/activityLog.js","name":"address_id","original":{"line":32,"column":86},"generated":{"line":1,"column":839}},{"source":"async/activityLog.js","name":"result","original":{"line":34,"column":11},"generated":{"line":1,"column":846}},{"source":"async/activityLog.js","name":"readOne","original":{"line":37,"column":8},"generated":{"line":1,"column":848}},{"source":"async/activityLog.js","name":"id","original":{"line":37,"column":17},"generated":{"line":1,"column":862}},{"source":"async/activityLog.js","original":{"line":38,"column":11},"generated":{"line":1,"column":865}},{"source":"async/activityLog.js","name":"conn","original":{"line":38,"column":17},"generated":{"line":1,"column":878}},{"source":"async/activityLog.js","name":"query","original":{"line":38,"column":22},"generated":{"line":1,"column":880}},{"source":"async/activityLog.js","name":"query","original":{"line":38,"column":22},"generated":{"line":1,"column":885}},{"source":"async/activityLog.js","name":"id","original":{"line":38,"column":66},"generated":{"line":1,"column":929}},{"source":"async/activityLog.js","name":"update","original":{"line":41,"column":8},"generated":{"line":1,"column":934}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":41,"column":16},"generated":{"line":1,"column":947}},{"source":"async/activityLog.js","name":"conn","original":{"line":42,"column":10},"generated":{"line":1,"column":956}},{"source":"async/activityLog.js","name":"query","original":{"line":42,"column":15},"generated":{"line":1,"column":958}},{"source":"async/activityLog.js","name":"query","original":{"line":42,"column":15},"generated":{"line":1,"column":963}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":43,"column":23},"generated":{"line":1,"column":1016}},{"source":"async/activityLog.js","name":"checkout_id","original":{"line":43,"column":35},"generated":{"line":1,"column":1018}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":44,"column":22},"generated":{"line":1,"column":1054}},{"source":"async/activityLog.js","name":"address_id","original":{"line":44,"column":34},"generated":{"line":1,"column":1056}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":45,"column":18},"generated":{"line":1,"column":1087}},{"source":"async/activityLog.js","name":"value","original":{"line":45,"column":30},"generated":{"line":1,"column":1089}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":46,"column":21},"generated":{"line":1,"column":1119}},{"source":"async/activityLog.js","name":"tz_offset","original":{"line":46,"column":33},"generated":{"line":1,"column":1121}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":47,"column":21},"generated":{"line":1,"column":1154}},{"source":"async/activityLog.js","name":"timezone","original":{"line":47,"column":33},"generated":{"line":1,"column":1156}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":48,"column":24},"generated":{"line":1,"column":1192}},{"source":"async/activityLog.js","name":"publisher_id","original":{"line":48,"column":36},"generated":{"line":1,"column":1194}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":49,"column":18},"generated":{"line":1,"column":1227}},{"source":"async/activityLog.js","name":"notes","original":{"line":49,"column":30},"generated":{"line":1,"column":1229}},{"source":"async/activityLog.js","original":{"line":49,"column":39},"generated":{"line":1,"column":1236}},{"source":"async/activityLog.js","name":"activityLog","original":{"line":50,"column":15},"generated":{"line":1,"column":1257}},{"source":"async/activityLog.js","name":"id","original":{"line":50,"column":27},"generated":{"line":1,"column":1259}},{"source":"async/activityLog.js","name":"delete","original":{"line":53,"column":8},"generated":{"line":1,"column":1265}},{"source":"async/activityLog.js","name":"id","original":{"line":53,"column":16},"generated":{"line":1,"column":1278}},{"source":"async/activityLog.js","name":"conn","original":{"line":54,"column":10},"generated":{"line":1,"column":1287}},{"source":"async/activityLog.js","name":"query","original":{"line":54,"column":15},"generated":{"line":1,"column":1289}},{"source":"async/activityLog.js","name":"query","original":{"line":54,"column":15},"generated":{"line":1,"column":1294}},{"source":"async/activityLog.js","name":"id","original":{"line":54,"column":57},"generated":{"line":1,"column":1336}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":1342}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":1346}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":1348}},{"source":"async/activityLog.js","name":"ActivityLogAsync","original":{"line":58,"column":19},"generated":{"line":1,"column":1352}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":1354}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":1362}},{"source":"async/activityLog.js","original":{"line":58,"column":15},"generated":{"line":1,"column":1370}}],"sources":{"async/activityLog.js":"import { conn } from '../server';\nimport { toArray } from 'lodash';\n\nclass ActivityLogAsync {\n  async create (activityLog) {\n    await conn.query(`INSERT INTO activitylog (\n      checkout_id,\n      address_id,\n      value,\n      tz_offset,\n      timezone,\n      publisher_id,\n      notes\n    ) VALUES (\n      ${ activityLog.checkout_id },\n      ${ activityLog.address_id },\n      '${ activityLog.value }',\n      ${ activityLog.tz_offset },\n      '${ activityLog.timezone }',\n      ${ activityLog.publisher_id },\n      '${ activityLog.notes || \"\" }'\n    )`);\n  }\n\n  async read (checkout_id, address_id) {\n    let result;\n    if (checkout_id && address_id) {\n      result = toArray(await conn.query(`SELECT * FROM activitylog WHERE checkout_id=${checkout_id} AND address_id=${address_id}`));\n    } else if (checkout_id) {\n      result = toArray(await conn.query(`SELECT * FROM activitylog WHERE checkout_id=${checkout_id}`));\n    } else if (address_id) {\n      result = toArray(await conn.query(`SELECT * FROM activitylog WHERE address_id=${address_id}`));\n    }\n    return result;\n  }\n\n  async readOne (id) {\n    return await conn.query(`SELECT * FROM activitylog WHERE id=${id}`);\n  }\n\n  async update (activityLog) {\n    await conn.query(`UPDATE activitylog SET\n      checkout_id = ${ activityLog.checkout_id },\n      address_id = ${ activityLog.address_id },\n      value = '${ activityLog.value }',\n      tz_offset = ${ activityLog.tz_offset },\n      timezone = '${ activityLog.timezone }',\n      publisher_id = ${ activityLog.publisher_id },\n      notes = '${ activityLog.notes || \"\" }'\n    WHERE id=${activityLog.id}`);\n  }\n\n  async delete (id) {\n    await conn.query(`DELETE FROM activitylog WHERE id=${id}`);\n  }\n}\n\nexport default new ActivityLogAsync();\n"},"lineCount":null}},"error":null,"hash":"656934b5d0b15ecc70d84976312c5d4c","cacheData":{"env":{}}}